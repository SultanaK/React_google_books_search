{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\razia\\\\BootCamp\\\\BootCampAssignment\\\\React_google_books_search\\\\client\\\\src\\\\Books.js\";\nimport React, { Component } from 'react';\nimport BookList from './BookList';\nimport SearchBox from './SearchBox';\nimport request from 'superagent';\n\nvar Books =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Books, _Component);\n\n  function Books(props) {\n    var _this;\n\n    _classCallCheck(this, Books);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Books).call(this, props));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      request.get(\"https://www.googleapis.com/books/v1/volumes\").query({\n        q: _this.state.searchField\n      }).then(function (data) {\n        console.log(data);\n\n        _this.setState({\n          books: _toConsumableArray(data.body.items)\n        });\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState({\n        searchField: e.target.value\n      });\n    };\n\n    _this.handleSort = function (e) {\n      _this.setState({\n        sort: e.target.value\n      });\n    };\n\n    _this.onSave = function (data) {\n      //console.log(data)\n      request.post('/api/saved').send(data) // sends a JSON post body\n      .set('accept', 'json');\n    };\n\n    _this.state = {\n      books: [],\n      searchField: '',\n      sort: ''\n    };\n    return _this;\n  }\n\n  _createClass(Books, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      request.get(\"https://www.googleapis.com/books/v1/volumes\").query({\n        q: this.state.searchField\n      }).then(function (data) {\n        _this2.setState({\n          books: _toConsumableArray(data.body.items)\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var filteredBooks = this.state.books.sort(function (a, b) {\n        if (_this3.state.sort == 'Newest') {\n          console.log(\"in newest\");\n          return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n        } else if (_this3.state.sort == 'Oldest') {\n          return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n        }\n\n        return;\n      });\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(SearchBox, {\n        data: this.state,\n        handleSubmit: this.handleSubmit,\n        handleChange: this.handleChange,\n        handleSort: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(BookList, {\n        books: filteredBooks,\n        onSave: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Books;\n}(Component);\n\nexport default Books;","map":{"version":3,"sources":["C:\\Users\\razia\\BootCamp\\BootCampAssignment\\React_google_books_search\\client\\src\\Books.js"],"names":["React","Component","BookList","SearchBox","request","Books","props","handleSubmit","e","preventDefault","get","query","q","state","searchField","then","data","console","log","setState","books","body","items","handleChange","target","value","handleSort","sort","onSave","post","send","set","filteredBooks","a","b","parseInt","volumeInfo","publishedDate","substring"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport BookList from './BookList';\nimport SearchBox from './SearchBox';\nimport request from 'superagent';\n\nclass Books extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            books: [],\n            searchField: '',\n            sort: ''\n        }\n    }\n    componentDidMount() {\n        request\n            .get(\"https://www.googleapis.com/books/v1/volumes\")\n            .query({ q: this.state.searchField })\n            .then((data) => {\n                this.setState({ books: [...data.body.items] })\n            })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        request\n            .get(\"https://www.googleapis.com/books/v1/volumes\")\n            .query({ q: this.state.searchField })\n            .then((data) => {\n                console.log(data);\n                this.setState({ books: [...data.body.items] })   \n            })\n    }\n\n    handleChange = (e) => {\n        this.setState({ searchField: e.target.value })\n    }\n\n    handleSort = (e) => {\n        this.setState({ sort: e.target.value});\n    }\n    onSave = (data) => {\n        //console.log(data)\n  request.post('/api/saved')\n  .send(data) // sends a JSON post body\n  .set('accept', 'json')\n\n    }\n    \n\n    render() {\n        const filteredBooks = this.state.books.sort((a, b) => {\n            if(this.state.sort == 'Newest'){\n                console.log(\"in newest\")\n                return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n            }\n            else if(this.state.sort == 'Oldest'){\n                return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n            }\n          \n          return;\n        })\n\n        return (\n            <div className=\"wrapper\">\n                <SearchBox \n                    data={this.state} \n                    handleSubmit={this.handleSubmit} \n                    handleChange={this.handleChange} \n                    handleSort={this.handleSort}\n                />\n                <BookList books={filteredBooks} onSave={this.onSave}/>\n            </div>\n        );\n    }\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}